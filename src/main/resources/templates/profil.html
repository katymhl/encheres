<!DOCTYPE html>
<!-- Accueil comme titre de page -->
<!-- la balise main définit par la classe de CSS 'center-main' comme paramètre contenuPage -->
<html xmlns:th="http://www.thymeleaf.org"
      data-th-replace="~{layouts/layout :: layout-encheres(
					titrePage=~{:: title},
					contenuPage=~{:: main},
					ressourcesSupp=~{:: link})}">

<head>
    <!-- Accueil comme titre de page -->
    <title data-th-text="#{profil.title}"></title>
    <link rel="stylesheet" th:href="@{/css/profil.css}">
</head>
<body>
<main class="center-main">
    <!-- Partie gauche du contenu -->
    <section class="center-section" >
        <div  th:if="${user != null}">
            <h1 style="text-align: center;" data-th-text="#{profil.h1} + ' @' + ${user.pseudo}"></h1>

            <br><br><br><br>

            <table>
                <!-- build html table based on users -->
                <tbody>

                <tr>
                    <td>Prenom :</td>
                    <td data-th-text="${user.prenom}"></td>
                </tr>

                <tr>
                    <td>Nom :</td>
                    <td data-th-text="${user.nom}"></td>
                </tr>

                <tr>
                    <td>Email :</td>
                    <td data-th-text="${user.email}"></td>
                </tr>

                <tr>
                    <td>Telephone :</td>
                    <td data-th-text="${user.telephone}"></td>
                </tr>

                <tr th:if="${isOwnProfile}">
                    <td>Crédit :</td>
                    <td data-th-text="${user.credit} + ' point(s)'"></td>
                </tr>
                </tbody>
            </table>

        </div>

        <div th:if="${user == null}">
            <h2>Utilisateur non trouvé</h2>
        </div>


        <div class="button-row">
            <div th:if="${isOwnProfile}" class="update">
                <button>
                    <a th:href="@{'/monProfil/update?pseudo=' + ${#authentication.name}}">Modifier profil</a>
                </button>
                <button>
                    <a th:href="@{'/monProfil/update-pwd?pseudo=' + ${#authentication.name}}">Modifier mot de passe</a>
                </button>
            </div>

            <div class="back">
                <button>
                    <a th:href="@{/accueil/connecter}">Retour</a>
                </button>
            </div>
        </div>



    </section>
</main>
</body>
</html>